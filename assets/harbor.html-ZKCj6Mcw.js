import{_ as l,r as o,o as r,c as t,b as e,d as s,e as a,f as i}from"./app-tN7dId5R.js";const p="/assets/image-9-BNnlBBGi.png",c="/assets/image-10-C1KhwFF7.png",d="/assets/image-11-B9OmyaB8.png",m="/assets/image-12-Cqoz_weQ.png",b="/assets/image-13-BbZI85ZX.png",h={},B={href:"https://github.com/goharbor/harbor/releases",target:"_blank",rel:"noopener noreferrer"},v={href:"https://github.com/docker/compose/releases",target:"_blank",rel:"noopener noreferrer"},u=e("br",null,null,-1),y=e("img",{src:p,alt:"下载harbor离线安装包",loading:"lazy"},null,-1),g=e("br",null,null,-1),_=e("img",{src:c,alt:"下载docker/compose组件",loading:"lazy"},null,-1),k=i('<li><p>将下载的安装包上传到服务器。</p></li><li><p>使用<code>mv</code>命令将<code>docker/compose</code>组件重命名为<code>docker-compose</code>,并移动到<code>/usr/bin/</code>。</p></li><li><p>使用<code>tar -xvf harbor离线安装包名</code> 解压出 harbor。解压出 harbor 安装包如下：<br><img src="'+d+`" alt="harbor目录结构" loading="lazy"><br> 其中打码部分是 harbor 的 ssl 证书配置</p></li><li><p>复制 <code>harbor.yml.tmpl</code> 文件并重命名为 <code>docker.yml</code>。</p></li><li><p>编辑 <code>harbor.yml</code>，修改其中内容（建议给仓库配置上 ssl 证书）。</p><div class="language-vim line-numbers-mode" data-ext="vim" data-title="vim"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">  # harbor服务的仓库</span></span>
<span class="line"><span style="color:#ABB2BF;">  hostname: reg.mydomain.</span><span style="color:#C678DD;">com</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">  # http相关内容</span></span>
<span class="line"><span style="color:#ABB2BF;">  http:</span></span>
<span class="line"><span style="color:#ABB2BF;">    # 设置http访问端口。默认是80。</span></span>
<span class="line"><span style="color:#ABB2BF;">    port: http_port</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">  # https相关</span></span>
<span class="line"><span style="color:#ABB2BF;">  https:</span></span>
<span class="line"><span style="color:#ABB2BF;">    # https访问端口。默认443</span></span>
<span class="line"><span style="color:#ABB2BF;">    port: https_port</span></span>
<span class="line"><span style="color:#ABB2BF;">    # https证书文件路径</span></span>
<span class="line"><span style="color:#ABB2BF;">    certificate: </span><span style="color:#E06C75;">/your/</span><span style="color:#ABB2BF;">certificate/path</span></span>
<span class="line"><span style="color:#ABB2BF;">    # https证书私钥路径</span></span>
<span class="line"><span style="color:#ABB2BF;">    private_key: </span><span style="color:#E06C75;">/your/</span><span style="color:#ABB2BF;">private</span><span style="color:#E06C75;">/key/</span><span style="color:#ABB2BF;">path</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">  # harbor管理员密码（账号为admin），默认Harbor12345</span></span>
<span class="line"><span style="color:#ABB2BF;">  harbor_admin_password: Harbor12345</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>运行 <code>prepare</code> 文件。</p></li><li><p>执行安装脚本 <code>install.sh</code>。</p></li><li><p>此时你就已经安装好 harbor 了。可以使用设置的域名或者 ip 加端口访问仓库管理页面。<br><img src="`+m+'" alt="harbor管理界面" loading="lazy"></p></li><li><p>新建一个项目。此时你就可以向项目中推送镜像了。镜像上传下载操作和 <code>docker hub</code> 和 <code>阿里云容器镜像仓库</code>差不多。具体可以参考文章<a href="/docker-hub">docker hub使用</a>、<a href="/ali-container-store">阿里云容器镜像仓库使用</a>。注意在使用 <code>docker login</code> 登录时记得加上自己的仓库地址。<br><img src="'+b+'" alt="docker推送命令" loading="lazy"></p></li>',9);function F(A,f){const n=o("ExternalLinkIcon");return r(),t("div",null,[e("ol",null,[e("li",null,[e("p",null,[s("登录 github 下载"),e("a",B,[s("habor 离线安装包"),a(n)]),s("，和"),e("a",v,[s("docker/compose 组件"),a(n)]),s("。"),u,y,g,_])]),k])])}const w=l(h,[["render",F],["__file","harbor.html.vue"]]),C=JSON.parse(`{"path":"/server/docker/store/harbor.html","title":"搭建harbor私有仓库","lang":"zh-CN","frontmatter":{"title":"搭建harbor私有仓库","description":"Docker,docker，镜像仓库，服务器，harbor搭建","icon":"harbor","date":"2024-04-13 16:52:00","star":true,"isOriginal":true,"cover":"https://w.wallhaven.cc/full/ex/wallhaven-ex136k.jpg","order":3,"category":["Docker"],"tag":["Docker"],"head":[["meta",{"property":"og:url","content":"https://blog.singlequote.cn/server/docker/store/harbor.html"}],["meta",{"property":"og:site_name","content":"SingleQuote's Blog"}],["meta",{"property":"og:title","content":"搭建harbor私有仓库"}],["meta",{"property":"og:description","content":"Docker,docker，镜像仓库，服务器，harbor搭建"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://w.wallhaven.cc/full/ex/wallhaven-ex136k.jpg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-13T13:58:14.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"搭建harbor私有仓库"}],["meta",{"property":"article:author","content":"SingleQuote"}],["meta",{"property":"article:tag","content":"Docker"}],["meta",{"property":"article:published_time","content":"2024-04-13T08:52:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-13T13:58:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"搭建harbor私有仓库\\",\\"image\\":[\\"https://w.wallhaven.cc/full/ex/wallhaven-ex136k.jpg\\"],\\"datePublished\\":\\"2024-04-13T08:52:00.000Z\\",\\"dateModified\\":\\"2024-04-13T13:58:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"SingleQuote\\",\\"url\\":\\"blog.SingleQuote.cn\\"}]}"]]},"headers":[],"git":{"createdTime":1713016694000,"updatedTime":1713016694000,"contributors":[{"name":"tmh","email":"t13219006372@163.com","commits":1}]},"readingTime":{"minutes":1.43,"words":428},"filePathRelative":"server/docker/store/harbor.md","localizedDate":"2024年4月13日","excerpt":"<ol>\\n<li>\\n<p>登录 github 下载<a href=\\"https://github.com/goharbor/harbor/releases\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">habor 离线安装包</a>，和<a href=\\"https://github.com/docker/compose/releases\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">docker/compose 组件</a>。<br>\\n<br>\\n</p>\\n</li>\\n<li>\\n<p>将下载的安装包上传到服务器。</p>\\n</li>\\n<li>\\n<p>使用<code>mv</code>命令将<code>docker/compose</code>组件重命名为<code>docker-compose</code>,并移动到<code>/usr/bin/</code>。</p>\\n</li>\\n<li>\\n<p>使用<code>tar -xvf harbor离线安装包名</code> 解压出 harbor。解压出 harbor 安装包如下：<br>\\n<br>\\n其中打码部分是 harbor 的 ssl 证书配置</p>\\n</li>\\n<li>\\n<p>复制 <code>harbor.yml.tmpl</code> 文件并重命名为 <code>docker.yml</code>。</p>\\n</li>\\n<li>\\n<p>编辑 <code>harbor.yml</code>，修改其中内容（建议给仓库配置上 ssl 证书）。</p>\\n<div class=\\"language-vim line-numbers-mode\\" data-ext=\\"vim\\" data-title=\\"vim\\"><pre class=\\"shiki one-dark-pro\\" style=\\"background-color:#282c34;color:#abb2bf\\" tabindex=\\"0\\"><code><span class=\\"line\\"><span style=\\"color:#ABB2BF\\">  # harbor服务的仓库</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">  hostname: reg.mydomain.</span><span style=\\"color:#C678DD\\">com</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">  # http相关内容</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">  http:</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">    # 设置http访问端口。默认是80。</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">    port: http_port</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">  # https相关</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">  https:</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">    # https访问端口。默认443</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">    port: https_port</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">    # https证书文件路径</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">    certificate: </span><span style=\\"color:#E06C75\\">/your/</span><span style=\\"color:#ABB2BF\\">certificate/path</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">    # https证书私钥路径</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">    private_key: </span><span style=\\"color:#E06C75\\">/your/</span><span style=\\"color:#ABB2BF\\">private</span><span style=\\"color:#E06C75\\">/key/</span><span style=\\"color:#ABB2BF\\">path</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">  # harbor管理员密码（账号为admin），默认Harbor12345</span></span>\\n<span class=\\"line\\"><span style=\\"color:#ABB2BF\\">  harbor_admin_password: Harbor12345</span></span>\\n<span class=\\"line\\"></span></code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div></li>\\n<li>\\n<p>运行 <code>prepare</code> 文件。</p>\\n</li>\\n<li>\\n<p>执行安装脚本 <code>install.sh</code>。</p>\\n</li>\\n<li>\\n<p>此时你就已经安装好 harbor 了。可以使用设置的域名或者 ip 加端口访问仓库管理页面。<br>\\n</p>\\n</li>\\n<li>\\n<p>新建一个项目。此时你就可以向项目中推送镜像了。镜像上传下载操作和 <code>docker hub</code> 和 <code>阿里云容器镜像仓库</code>差不多。具体可以参考文章<a href=\\"/docker-hub\\">docker hub使用</a>、<a href=\\"/ali-container-store\\">阿里云容器镜像仓库使用</a>。注意在使用 <code>docker login</code> 登录时记得加上自己的仓库地址。<br>\\n</p>\\n</li>\\n</ol>"}`);export{w as comp,C as data};
